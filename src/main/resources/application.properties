# Application Name
spring.application.name=Hr-Document-Management
server.servlet.context-path=/

# Database Configuration
spring.datasource.url=
spring.datasource.username=
spring.datasource.password=
spring.datasource.driver-class-name=

# HikariCP Connection Pool - Optimized for SHORT transactions
# With the new architecture, connections are held for milliseconds, not minutes
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.connection-timeout=30000
# Reduced idle timeout since connections should be returned quickly
spring.datasource.hikari.idle-timeout=300000
# Reduced max lifetime - connections shouldn't be held long
spring.datasource.hikari.max-lifetime=600000
# Detect leaks after 60 seconds (should never happen now)
spring.datasource.hikari.leak-detection-threshold=60000
# Additional pool health settings
spring.datasource.hikari.pool-name=
spring.datasource.hikari.auto-commit=true
spring.datasource.hikari.initialization-fail-timeout=1

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.generate_statistics=false
# Additional Hibernate optimizations
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.properties.hibernate.connection.provider_disables_autocommit=false


# Multipart File Upload Configuration - UPDATED TO 10MB
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=50MB
spring.servlet.multipart.file-size-threshold=2MB
spring.servlet.multipart.resolve-lazily=false

# Cloudinary Configuration - INCREASED to 3 minutes
cloudinary.cloud-name=
cloudinary.api-key=
cloudinary.api-secret=
# Increased from 120000 (2 min) to 180000 (3 min) for 45MB uploads
cloudinary.timeout=300000


# JWT Configuration - ADD THESE LINES
jwt.secret=
jwt.expiration=

# Server Configuration - Optimized for concurrent users and large uploads
server.port=
server.address=0.0.0.0
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=20
server.tomcat.max-connections=10000
server.tomcat.accept-count=100
# INCREASED connection timeout to 5 minutes for large file uploads
server.tomcat.connection-timeout=300000

# Request timeout - INCREASED to 4 minutes (240 seconds)
# This should be LONGER than Cloudinary timeout (180s) + processing overhead
spring.mvc.async.request-timeout=240000

# Additional Tomcat optimizations for large file uploads
server.tomcat.max-http-form-post-size=150MB
server.tomcat.max-swallow-size=150MB


# Logging Configuration
logging.level.com.medical.visiting.consultants.credentials=INFO
logging.level.org.hibernate.SQL=WARN

# HikariCP - Clean logging (no more spam)
logging.level.com.zaxxer.hikari=INFO
logging.level.com.zaxxer.hikari.pool=INFO
logging.level.com.zaxxer.hikari.pool.ProxyLeakTask=WARN

# Session Configuration
server.servlet.session.cookie.name=
server.servlet.session.cookie.path=
server.servlet.session.cookie.http-only=
server.servlet.session.cookie.secure=
server.servlet.session.cookie.same-site=
server.servlet.session.timeout=

# Transaction timeout defaults
spring.transaction.default-timeout=30

# SOME FRONTEND CONFIGS
app.name=HR Document Management Platform
app.frontend.url=
app.password-reset-token.expiry-hours=

# ==============================================
# SPRINGDOC/SWAGGER CONFIGURATION
# ==============================================
springdoc.api-docs.path=
springdoc.swagger-ui.path=
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.operations-sorter=
springdoc.swagger-ui.tags-sorter=

# ========================================
# SMTP CONFIGURATION (UNCHANGED)
# ========================================
spring.mail.host=
spring.mail.port=
spring.mail.username=
spring.mail.password=
spring.mail.properties.mail.smtp.auth=
spring.mail.properties.mail.smtp.starttls.enable=
spring.mail.properties.mail.smtp.starttls.required=
spring.mail.properties.mail.smtp.ssl.enable=
spring.mail.properties.mail.smtp.ssl.trust=
spring.mail.properties.mail.smtp.connectiontimeout=
spring.mail.properties.mail.smtp.timeout=
spring.mail.properties.mail.smtp.writetimeout=
spring.mail.properties.mail.transport.protocol=
spring.mail.properties.mail.smtp.ssl.protocols=
spring.mail.properties.mail.smtp.from=
spring.mail.default-encoding=
spring.mail.properties.mail.debug=

server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain

# Actuator endpoints (optional - for monitoring)
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
management.metrics.enable.hikaricp=true


